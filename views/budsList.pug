extends layout

block content
  .inner
    - const inboundBuds = runners.filter(runner => user.inboundBudRequests.toString().includes(runner._id.toString()))
    - const buds = runners.filter(runner => user.buds.toString().includes(runner._id.toString()))
    //- - console.log(user.inboundBudRequests.toString())
    //- - console.log(inboundBuds)
    //- - console.log(buds)
    each inboundBud in inboundBuds
      .card
        img(src=(inboundBud.photo ? `/uploads/${inboundBud.photo}` : inboundBud.gravatar) alt=inboundBud.name)
        p= inboundBud.name
        form(action=`/api/acceptBudRequest/${inboundBud._id}` method="POST")
            input.button(type="submit" value="Accept Bud Request!")
        form(action=`/api/rejectBudRequest/${inboundBud._id}` method="POST")
            input.button(type="submit" value="Reject Bud Request.")
    each bud in buds
      .card
        img(src=(bud.photo ? `/uploads/${bud.photo}` : bud.gravatar) alt=bud.name)
        p= bud.name
        form(action=`/api/unBudRunner/${bud._id}` method="POST")
          input.button(type="submit" value="Unbud Bud ☹️")